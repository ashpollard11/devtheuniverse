{"version":3,"sources":["vue-touch-events.js"],"names":["touchX","event","type","indexOf","clientX","touches","touchY","clientY","isPassiveSupported","supportsPassive","opts","Object","defineProperty","get","window","addEventListener","e","vueTouchEvents","install","Vue","options","assign","disableClick","tapTolerance","swipeTolerance","longTapTimeInterval","touchClass","touchStartEvent","$this","$$touchObj","isTouchEvent","isMouseEvent","lastTouchStartTime","timeStamp","touchStarted","addTouchClass","touchMoved","swipeOutBounded","startX","startY","currentX","currentY","touchStartTime","triggerEvent","touchMoveEvent","Math","abs","touchCancelEvent","removeTouchClass","touchEndEvent","lastTouchEndTime","callbacks","longtap","preventDefault","direction","mouseEnterEvent","mouseLeaveEvent","$el","eventType","param","length","i","binding","modifiers","stop","stopPropagation","prevent","self","target","currentTarget","value","className","$$touchClass","classList","add","remove","directive","bind","hasBindTouchEvents","arg","_m","left","right","top","bottom","_e","push","swipe","passiveOpt","passive","unbind","removeEventListener","module","exports","define","amd","use"],"mappings":";;;;AAAA;;;;;;AAMA,SAASA,MAAT,CAAgBC,KAAhB,EAAuB;AACnB,QAAGA,MAAMC,IAAN,CAAWC,OAAX,CAAmB,OAAnB,MAAgC,CAAC,CAApC,EAAsC;AAClC,eAAOF,MAAMG,OAAb;AACH;AACD,WAAOH,MAAMI,OAAN,CAAc,CAAd,EAAiBD,OAAxB;AACH;;AAED,SAASE,MAAT,CAAgBL,KAAhB,EAAuB;AACnB,QAAGA,MAAMC,IAAN,CAAWC,OAAX,CAAmB,OAAnB,MAAgC,CAAC,CAApC,EAAsC;AAClC,eAAOF,MAAMM,OAAb;AACH;AACD,WAAON,MAAMI,OAAN,CAAc,CAAd,EAAiBE,OAAxB;AACH;;AAED,IAAIC,qBAAsB,YAAW;AACjC,QAAIC,kBAAkB,KAAtB;AACA,QAAI;AACA,YAAIC,OAAOC,OAAOC,cAAP,CAAsB,EAAtB,EAA0B,SAA1B,EAAqC;AAC5CC,iBAAK,eAAW;AACZJ,kCAAkB,IAAlB;AACH;AAH2C,SAArC,CAAX;AAKAK,eAAOC,gBAAP,CAAwB,MAAxB,EAAgC,IAAhC,EAAsCL,IAAtC;AACH,KAPD,CAOE,OAAOM,CAAP,EAAU,CAAE;AACd,WAAOP,eAAP;AACH,CAXwB,EAAzB;;AAcA,IAAIQ,iBAAiB;AACjBC,aAAS,iBAAUC,GAAV,EAAeC,OAAf,EAAwB;;AAE7B;AACAA,kBAAUT,OAAOU,MAAP,CAAc,EAAd,EAAkB;AACxBC,0BAAc,KADU;AAExBC,0BAAc,EAFU;AAGxBC,4BAAgB,EAHQ;AAIxBC,iCAAqB,GAJG;AAKxBC,wBAAY;AALY,SAAlB,EAMPN,WAAW,EANJ,CAAV;;AASA,iBAASO,eAAT,CAAyB1B,KAAzB,EAAgC;AAC5B,gBAAI2B,QAAQ,KAAKC,UAAjB;AAAA,gBACIC,eAAe7B,MAAMC,IAAN,CAAWC,OAAX,CAAmB,OAAnB,KAA+B,CADlD;AAAA,gBAEI4B,eAAe9B,MAAMC,IAAN,CAAWC,OAAX,CAAmB,OAAnB,KAA+B,CAFlD;;AAIA,gBAAI2B,YAAJ,EAAkB;AACdF,sBAAMI,kBAAN,GAA2B/B,MAAMgC,SAAjC;AACH;;AAED,gBAAIF,gBAAgBH,MAAMI,kBAAtB,IAA4C/B,MAAMgC,SAAN,GAAkBL,MAAMI,kBAAxB,GAA6C,GAA7F,EAAkG;AAC9F;AACH;;AAED,gBAAIJ,MAAMM,YAAV,EAAwB;AACpB;AACH;;AAEDC,0BAAc,IAAd;;AAEAP,kBAAMM,YAAN,GAAqB,IAArB;;AAEAN,kBAAMQ,UAAN,GAAmB,KAAnB;AACAR,kBAAMS,eAAN,GAAwB,KAAxB;;AAEAT,kBAAMU,MAAN,GAAetC,OAAOC,KAAP,CAAf;AACA2B,kBAAMW,MAAN,GAAejC,OAAOL,KAAP,CAAf;;AAEA2B,kBAAMY,QAAN,GAAiB,CAAjB;AACAZ,kBAAMa,QAAN,GAAiB,CAAjB;;AAEAb,kBAAMc,cAAN,GAAuBzC,MAAMgC,SAA7B;;AAEAU,yBAAa1C,KAAb,EAAoB,IAApB,EAA0B,OAA1B;AACH;;AAED,iBAAS2C,cAAT,CAAwB3C,KAAxB,EAA+B;AAC3B,gBAAI2B,QAAQ,KAAKC,UAAjB;;AAEAD,kBAAMY,QAAN,GAAiBxC,OAAOC,KAAP,CAAjB;AACA2B,kBAAMa,QAAN,GAAiBnC,OAAOL,KAAP,CAAjB;;AAEA,gBAAI,CAAC2B,MAAMQ,UAAX,EAAuB;AACnB,oBAAIb,eAAeH,QAAQG,YAA3B;;AAEAK,sBAAMQ,UAAN,GAAmBS,KAAKC,GAAL,CAASlB,MAAMU,MAAN,GAAeV,MAAMY,QAA9B,IAA0CjB,YAA1C,IACfsB,KAAKC,GAAL,CAASlB,MAAMW,MAAN,GAAeX,MAAMa,QAA9B,IAA0ClB,YAD9C;;AAGA,oBAAGK,MAAMQ,UAAT,EAAoB;AAChBO,iCAAa1C,KAAb,EAAoB,IAApB,EAA0B,OAA1B;AACH;AAEJ,aAVD,MAUO,IAAI,CAAC2B,MAAMS,eAAX,EAA4B;AAC/B,oBAAIA,kBAAkBjB,QAAQI,cAA9B;;AAEAI,sBAAMS,eAAN,GAAwBQ,KAAKC,GAAL,CAASlB,MAAMU,MAAN,GAAeV,MAAMY,QAA9B,IAA0CH,eAA1C,IACpBQ,KAAKC,GAAL,CAASlB,MAAMW,MAAN,GAAeX,MAAMa,QAA9B,IAA0CJ,eAD9C;AAEH;;AAED,gBAAGT,MAAMQ,UAAT,EAAoB;AAChBO,6BAAa1C,KAAb,EAAoB,IAApB,EAA0B,QAA1B;AACH;AACJ;;AAED,iBAAS8C,gBAAT,GAA4B;AACxB,gBAAInB,QAAQ,KAAKC,UAAjB;;AAEAmB,6BAAiB,IAAjB;;AAEApB,kBAAMM,YAAN,GAAqBN,MAAMQ,UAAN,GAAmB,KAAxC;AACAR,kBAAMU,MAAN,GAAeV,MAAMW,MAAN,GAAe,CAA9B;AACH;;AAED,iBAASU,aAAT,CAAuBhD,KAAvB,EAA8B;AAC1B,gBAAI2B,QAAQ,KAAKC,UAAjB;AAAA,gBACIC,eAAe7B,MAAMC,IAAN,CAAWC,OAAX,CAAmB,OAAnB,KAA+B,CADlD;AAAA,gBAEI4B,eAAe9B,MAAMC,IAAN,CAAWC,OAAX,CAAmB,OAAnB,KAA+B,CAFlD;;AAIA,gBAAI2B,YAAJ,EAAkB;AACdF,sBAAMsB,gBAAN,GAAyBjD,MAAMgC,SAA/B;AACH;;AAED,gBAAIF,gBAAgBH,MAAMsB,gBAAtB,IAA0CjD,MAAMgC,SAAN,GAAkBL,MAAMsB,gBAAxB,GAA2C,GAAzF,EAA8F;AAC1F;AACH;;AAEDtB,kBAAMM,YAAN,GAAqB,KAArB;;AAEAc,6BAAiB,IAAjB;;AAEA;AACAL,yBAAa1C,KAAb,EAAoB,IAApB,EAA0B,KAA1B;;AAEA,gBAAI,CAAC2B,MAAMQ,UAAX,EAAuB;AACnB;AACA,oBAAIR,MAAMuB,SAAN,CAAgBC,OAAhB,IAA2BnD,MAAMgC,SAAN,GAAkBL,MAAMc,cAAxB,GAAyCtB,QAAQK,mBAAhF,EAAqG;AACjGxB,0BAAMoD,cAAN;AACAV,iCAAa1C,KAAb,EAAoB,IAApB,EAA0B,SAA1B;AAEH,iBAJD,MAIO;AACH;AACA0C,iCAAa1C,KAAb,EAAoB,IAApB,EAA0B,KAA1B;AACH;AAEJ,aAXD,MAWO,IAAI,CAAC2B,MAAMS,eAAX,EAA4B;AAC/B,oBAAIA,kBAAkBjB,QAAQI,cAA9B;AAAA,oBAA8C8B,SAA9C;;AAEA,oBAAIT,KAAKC,GAAL,CAASlB,MAAMU,MAAN,GAAeV,MAAMY,QAA9B,IAA0CH,eAA9C,EAA+D;AAC3DiB,gCAAY1B,MAAMW,MAAN,GAAeX,MAAMa,QAArB,GAAgC,KAAhC,GAAwC,QAApD;AAEH,iBAHD,MAGO;AACHa,gCAAY1B,MAAMU,MAAN,GAAeV,MAAMY,QAArB,GAAgC,MAAhC,GAAyC,OAArD;AACH;;AAED;AACA,oBAAIZ,MAAMuB,SAAN,CAAgB,WAAWG,SAA3B,CAAJ,EAA2C;AACvCX,iCAAa1C,KAAb,EAAoB,IAApB,EAA0B,WAAWqD,SAArC,EAAgDA,SAAhD;AAEH,iBAHD,MAGO;AACH;AACAX,iCAAa1C,KAAb,EAAoB,IAApB,EAA0B,OAA1B,EAAmCqD,SAAnC;AACH;AACJ;AACJ;;AAED,iBAASC,eAAT,GAA2B;AACvBpB,0BAAc,IAAd;AACH;;AAED,iBAASqB,eAAT,GAA2B;AACvBR,6BAAiB,IAAjB;AACH;;AAED,iBAASL,YAAT,CAAsB3B,CAAtB,EAAyByC,GAAzB,EAA8BC,SAA9B,EAAyCC,KAAzC,EAAgD;AAC5C,gBAAI/B,QAAQ6B,IAAI5B,UAAhB;;AAEA;AACA,gBAAIsB,YAAYvB,MAAMuB,SAAN,CAAgBO,SAAhB,KAA8B,EAA9C;AACA,gBAAIP,UAAUS,MAAV,KAAqB,CAAzB,EAA4B;AACxB,uBAAO,IAAP;AACH;;AAED,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIV,UAAUS,MAA9B,EAAsCC,GAAtC,EAA2C;AACvC,oBAAIC,UAAUX,UAAUU,CAAV,CAAd;;AAEA,oBAAIC,QAAQC,SAAR,CAAkBC,IAAtB,EAA4B;AACxBhD,sBAAEiD,eAAF;AACH;;AAED,oBAAIH,QAAQC,SAAR,CAAkBG,OAAtB,EAA+B;AAC3BlD,sBAAEqC,cAAF;AACH;;AAED;AACA,oBAAIS,QAAQC,SAAR,CAAkBI,IAAlB,IAA0BnD,EAAEoD,MAAF,KAAapD,EAAEqD,aAA7C,EAA4D;AACxD;AACH;;AAED,oBAAI,OAAOP,QAAQQ,KAAf,KAAyB,UAA7B,EAAyC;AACrC,wBAAIX,KAAJ,EAAW;AACPG,gCAAQQ,KAAR,CAAcX,KAAd,EAAqB3C,CAArB;AACH,qBAFD,MAEO;AACH8C,gCAAQQ,KAAR,CAActD,CAAd;AACH;AACJ;AACJ;AACJ;;AAED,iBAASmB,aAAT,CAAuBsB,GAAvB,EAA4B;AACxB,gBAAIc,YAAYd,IAAIe,YAAJ,IAAoBpD,QAAQM,UAA5C;AACA6C,yBAAad,IAAIgB,SAAJ,CAAcC,GAAd,CAAkBH,SAAlB,CAAb;AACH;;AAED,iBAASvB,gBAAT,CAA0BS,GAA1B,EAA+B;AAC3B,gBAAIc,YAAYd,IAAIe,YAAJ,IAAoBpD,QAAQM,UAA5C;AACA6C,yBAAad,IAAIgB,SAAJ,CAAcE,MAAd,CAAqBJ,SAArB,CAAb;AACH;;AAEDpD,YAAIyD,SAAJ,CAAc,OAAd,EAAuB;AACnBC,kBAAM,cAAUpB,GAAV,EAAeK,OAAf,EAAwB;;AAE1BL,oBAAI5B,UAAJ,GAAiB4B,IAAI5B,UAAJ,IAAkB;AAC3B;AACA;AACAsB,+BAAW,EAHgB;AAI3B;AACA2B,wCAAoB;;AAI5B;AATmC,iBAAnC,CAUA,IAAIpB,YAAYI,QAAQiB,GAAR,IAAe,KAA/B;AACA,wBAAQrB,SAAR;AACI,yBAAK,OAAL;AACI,4BAAIsB,KAAKlB,QAAQC,SAAjB;AACA,4BAAIiB,GAAGC,IAAH,IAAWD,GAAGE,KAAd,IAAuBF,GAAGG,GAA1B,IAAiCH,GAAGI,MAAxC,EAAgD;AAC5C,iCAAK,IAAIvB,CAAT,IAAcC,QAAQC,SAAtB,EAAiC;AAC7B,oCAAI,CAAC,MAAD,EAAS,OAAT,EAAkB,KAAlB,EAAyB,QAAzB,EAAmC5D,OAAnC,CAA2C0D,CAA3C,KAAiD,CAArD,EAAwD;AACpD,wCAAIwB,KAAK,WAAWxB,CAApB;AACAJ,wCAAI5B,UAAJ,CAAesB,SAAf,CAAyBkC,EAAzB,IAA+B5B,IAAI5B,UAAJ,CAAesB,SAAf,CAAyBkC,EAAzB,KAAgC,EAA/D;AACA5B,wCAAI5B,UAAJ,CAAesB,SAAf,CAAyBkC,EAAzB,EAA6BC,IAA7B,CAAkCxB,OAAlC;AACH;AACJ;AACJ,yBARD,MAQO;AACHL,gCAAI5B,UAAJ,CAAesB,SAAf,CAAyBoC,KAAzB,GAAiC9B,IAAI5B,UAAJ,CAAesB,SAAf,CAAyBoC,KAAzB,IAAkC,EAAnE;AACA9B,gCAAI5B,UAAJ,CAAesB,SAAf,CAAyBoC,KAAzB,CAA+BD,IAA/B,CAAoCxB,OAApC;AACH;AACD;;AAEJ;AACIL,4BAAI5B,UAAJ,CAAesB,SAAf,CAAyBO,SAAzB,IAAsCD,IAAI5B,UAAJ,CAAesB,SAAf,CAAyBO,SAAzB,KAAuC,EAA7E;AACAD,4BAAI5B,UAAJ,CAAesB,SAAf,CAAyBO,SAAzB,EAAoC4B,IAApC,CAAyCxB,OAAzC;AAnBR;;AAsBA;AACA,oBAAIL,IAAI5B,UAAJ,CAAeiD,kBAAnB,EAAuC;AACnC;AACH;;AAED,oBAAIU,aAAahF,qBAAqB,EAAEiF,SAAS,IAAX,EAArB,GAAyC,KAA1D;AACAhC,oBAAI1C,gBAAJ,CAAqB,YAArB,EAAmCY,eAAnC,EAAoD6D,UAApD;AACA/B,oBAAI1C,gBAAJ,CAAqB,WAArB,EAAkC6B,cAAlC,EAAkD4C,UAAlD;AACA/B,oBAAI1C,gBAAJ,CAAqB,aAArB,EAAoCgC,gBAApC;AACAU,oBAAI1C,gBAAJ,CAAqB,UAArB,EAAiCkC,aAAjC;;AAEAQ,oBAAI1C,gBAAJ,CAAqB,WAArB,EAAkCY,eAAlC;AACA8B,oBAAI1C,gBAAJ,CAAqB,WAArB,EAAkC6B,cAAlC;AACAa,oBAAI1C,gBAAJ,CAAqB,SAArB,EAAgCkC,aAAhC;AACAQ,oBAAI1C,gBAAJ,CAAqB,YAArB,EAAmCwC,eAAnC;AACAE,oBAAI1C,gBAAJ,CAAqB,YAArB,EAAmCyC,eAAnC;;AAEA;AACAC,oBAAI5B,UAAJ,CAAeiD,kBAAf,GAAoC,IAApC;AACH,aAvDkB;;AAyDnBY,oBAAQ,gBAAUjC,GAAV,EAAe;AACnBA,oBAAIkC,mBAAJ,CAAwB,YAAxB,EAAsChE,eAAtC;AACA8B,oBAAIkC,mBAAJ,CAAwB,WAAxB,EAAqC/C,cAArC;AACAa,oBAAIkC,mBAAJ,CAAwB,aAAxB,EAAuC5C,gBAAvC;AACAU,oBAAIkC,mBAAJ,CAAwB,UAAxB,EAAoC1C,aAApC;;AAEAQ,oBAAIkC,mBAAJ,CAAwB,WAAxB,EAAqChE,eAArC;AACA8B,oBAAIkC,mBAAJ,CAAwB,WAAxB,EAAqC/C,cAArC;AACAa,oBAAIkC,mBAAJ,CAAwB,SAAxB,EAAmC1C,aAAnC;AACAQ,oBAAIkC,mBAAJ,CAAwB,YAAxB,EAAsCpC,eAAtC;AACAE,oBAAIkC,mBAAJ,CAAwB,YAAxB,EAAsCnC,eAAtC;;AAEA;AACA,uBAAOC,IAAI5B,UAAX;AACH;AAvEkB,SAAvB;;AA0EAV,YAAIyD,SAAJ,CAAc,aAAd,EAA6B;AACzBC,kBAAM,cAAUpB,GAAV,EAAeK,OAAf,EAAwB;AAC1BL,oBAAIe,YAAJ,GAAmBV,QAAQQ,KAA3B;AACH,aAHwB;AAIzBoB,oBAAQ,gBAAUjC,GAAV,EAAe;AACnB,uBAAOA,IAAIe,YAAX;AACH;AANwB,SAA7B;AAQH;;AAIL;;;AApRqB,CAArB,CAuRA,IAAI,QAAOoB,MAAP,yCAAOA,MAAP,OAAkB,QAAtB,EAAgC;AAC5BA,WAAOC,OAAP,GAAiB5E,cAAjB;AAEH,CAHD,MAGO,IAAI,OAAO6E,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAA3C,EAAgD;AACnDD,WAAO,EAAP,EAAW,YAAY;AACnB,eAAO7E,cAAP;AACH,KAFD;AAGH,CAJM,MAIA,IAAIH,OAAOK,GAAX,EAAgB;AACnBL,WAAOG,cAAP,GAAwBA,cAAxB;AACAE,QAAI6E,GAAJ,CAAQ/E,cAAR;AACH","file":"vue-touch-events.js","sourcesContent":["/**\n *\n * @author    Jerry Bendy\n * @since     4/12/2017\n */\n\nfunction touchX(event) {\n    if(event.type.indexOf(\"mouse\") !== -1){\n        return event.clientX;\n    }\n    return event.touches[0].clientX;\n}\n\nfunction touchY(event) {\n    if(event.type.indexOf(\"mouse\") !== -1){\n        return event.clientY;\n    }\n    return event.touches[0].clientY;\n}\n\nvar isPassiveSupported = (function() {\n    var supportsPassive = false;\n    try {\n        var opts = Object.defineProperty({}, 'passive', {\n            get: function() {\n                supportsPassive = true;\n            }\n        });\n        window.addEventListener('test', null, opts);\n    } catch (e) {}\n    return supportsPassive;\n})()\n\n\nvar vueTouchEvents = {\n    install: function (Vue, options) {\n\n        // Set default options\n        options = Object.assign({}, {\n            disableClick: false,\n            tapTolerance: 10,\n            swipeTolerance: 30,\n            longTapTimeInterval: 400,\n            touchClass: ''\n        }, options || {})\n\n\n        function touchStartEvent(event) {\n            var $this = this.$$touchObj,\n                isTouchEvent = event.type.indexOf(\"touch\") >= 0,\n                isMouseEvent = event.type.indexOf(\"mouse\") >= 0\n\n            if (isTouchEvent) {\n                $this.lastTouchStartTime = event.timeStamp\n            }\n\n            if (isMouseEvent && $this.lastTouchStartTime && event.timeStamp - $this.lastTouchStartTime < 350) {\n                return\n            }\n\n            if ($this.touchStarted) {\n                return\n            }\n\n            addTouchClass(this)\n\n            $this.touchStarted = true\n\n            $this.touchMoved = false\n            $this.swipeOutBounded = false\n\n            $this.startX = touchX(event)\n            $this.startY = touchY(event)\n\n            $this.currentX = 0\n            $this.currentY = 0\n\n            $this.touchStartTime = event.timeStamp\n\n            triggerEvent(event, this, 'start')\n        }\n\n        function touchMoveEvent(event) {\n            var $this = this.$$touchObj\n\n            $this.currentX = touchX(event)\n            $this.currentY = touchY(event)\n\n            if (!$this.touchMoved) {\n                var tapTolerance = options.tapTolerance\n\n                $this.touchMoved = Math.abs($this.startX - $this.currentX) > tapTolerance ||\n                    Math.abs($this.startY - $this.currentY) > tapTolerance\n\n                if($this.touchMoved){\n                    triggerEvent(event, this, 'moved')\n                }\n\n            } else if (!$this.swipeOutBounded) {\n                var swipeOutBounded = options.swipeTolerance\n\n                $this.swipeOutBounded = Math.abs($this.startX - $this.currentX) > swipeOutBounded &&\n                    Math.abs($this.startY - $this.currentY) > swipeOutBounded\n            }\n\n            if($this.touchMoved){\n                triggerEvent(event, this, 'moving')\n            }\n        }\n\n        function touchCancelEvent() {\n            var $this = this.$$touchObj\n\n            removeTouchClass(this)\n\n            $this.touchStarted = $this.touchMoved = false\n            $this.startX = $this.startY = 0\n        }\n\n        function touchEndEvent(event) {\n            var $this = this.$$touchObj,\n                isTouchEvent = event.type.indexOf(\"touch\") >= 0,\n                isMouseEvent = event.type.indexOf(\"mouse\") >= 0\n\n            if (isTouchEvent) {\n                $this.lastTouchEndTime = event.timeStamp\n            }\n\n            if (isMouseEvent && $this.lastTouchEndTime && event.timeStamp - $this.lastTouchEndTime < 350) {\n                return\n            }\n\n            $this.touchStarted = false\n\n            removeTouchClass(this)\n\n            // Fix #33, Trigger `end` event when touch stopped\n            triggerEvent(event, this, 'end')\n\n            if (!$this.touchMoved) {\n                // detect if this is a longTap event or not\n                if ($this.callbacks.longtap && event.timeStamp - $this.touchStartTime > options.longTapTimeInterval) {\n                    event.preventDefault()\n                    triggerEvent(event, this, 'longtap')\n\n                } else {\n                    // emit tap event\n                    triggerEvent(event, this, 'tap')\n                }\n\n            } else if (!$this.swipeOutBounded) {\n                var swipeOutBounded = options.swipeTolerance, direction\n\n                if (Math.abs($this.startX - $this.currentX) < swipeOutBounded) {\n                    direction = $this.startY > $this.currentY ? \"top\" : \"bottom\"\n\n                } else {\n                    direction = $this.startX > $this.currentX ? \"left\" : \"right\"\n                }\n\n                // Only emit the specified event when it has modifiers\n                if ($this.callbacks['swipe.' + direction]) {\n                    triggerEvent(event, this, 'swipe.' + direction, direction)\n\n                } else {\n                    // Emit a common event when it has no any modifier\n                    triggerEvent(event, this, 'swipe', direction)\n                }\n            }\n        }\n\n        function mouseEnterEvent() {\n            addTouchClass(this)\n        }\n\n        function mouseLeaveEvent() {\n            removeTouchClass(this)\n        }\n\n        function triggerEvent(e, $el, eventType, param) {\n            var $this = $el.$$touchObj\n\n            // get the callback list\n            var callbacks = $this.callbacks[eventType] || []\n            if (callbacks.length === 0) {\n                return null\n            }\n\n            for (var i = 0; i < callbacks.length; i++) {\n                var binding = callbacks[i]\n\n                if (binding.modifiers.stop) {\n                    e.stopPropagation();\n                }\n\n                if (binding.modifiers.prevent) {\n                    e.preventDefault();\n                }\n\n                // handle `self` modifier`\n                if (binding.modifiers.self && e.target !== e.currentTarget) {\n                    continue\n                }\n\n                if (typeof binding.value === 'function') {\n                    if (param) {\n                        binding.value(param, e)\n                    } else {\n                        binding.value(e)\n                    }\n                }\n            }\n        }\n\n        function addTouchClass($el) {\n            var className = $el.$$touchClass || options.touchClass\n            className && $el.classList.add(className)\n        }\n\n        function removeTouchClass($el) {\n            var className = $el.$$touchClass || options.touchClass\n            className && $el.classList.remove(className)\n        }\n\n        Vue.directive('touch', {\n            bind: function ($el, binding) {\n\n                $el.$$touchObj = $el.$$touchObj || {\n                        // an object contains all callbacks registered,\n                        // key is event name, value is an array\n                        callbacks: {},\n                        // prevent bind twice, set to true when event bound\n                        hasBindTouchEvents: false\n                    }\n\n\n                // register callback\n                var eventType = binding.arg || 'tap'\n                switch (eventType) {\n                    case 'swipe':\n                        var _m = binding.modifiers\n                        if (_m.left || _m.right || _m.top || _m.bottom) {\n                            for (var i in binding.modifiers) {\n                                if (['left', 'right', 'top', 'bottom'].indexOf(i) >= 0) {\n                                    var _e = 'swipe.' + i\n                                    $el.$$touchObj.callbacks[_e] = $el.$$touchObj.callbacks[_e] || []\n                                    $el.$$touchObj.callbacks[_e].push(binding)\n                                }\n                            }\n                        } else {\n                            $el.$$touchObj.callbacks.swipe = $el.$$touchObj.callbacks.swipe || []\n                            $el.$$touchObj.callbacks.swipe.push(binding)\n                        }\n                        break\n\n                    default:\n                        $el.$$touchObj.callbacks[eventType] = $el.$$touchObj.callbacks[eventType] || []\n                        $el.$$touchObj.callbacks[eventType].push(binding)\n                }\n\n                // prevent bind twice\n                if ($el.$$touchObj.hasBindTouchEvents) {\n                    return\n                }\n\n                var passiveOpt = isPassiveSupported ? { passive: true } : false;\n                $el.addEventListener('touchstart', touchStartEvent, passiveOpt)\n                $el.addEventListener('touchmove', touchMoveEvent, passiveOpt)\n                $el.addEventListener('touchcancel', touchCancelEvent)\n                $el.addEventListener('touchend', touchEndEvent)\n\n                $el.addEventListener('mousedown', touchStartEvent)\n                $el.addEventListener('mousemove', touchMoveEvent)\n                $el.addEventListener('mouseup', touchEndEvent)\n                $el.addEventListener('mouseenter', mouseEnterEvent)\n                $el.addEventListener('mouseleave', mouseLeaveEvent)\n\n                // set bind mark to true\n                $el.$$touchObj.hasBindTouchEvents = true\n            },\n\n            unbind: function ($el) {\n                $el.removeEventListener('touchstart', touchStartEvent)\n                $el.removeEventListener('touchmove', touchMoveEvent)\n                $el.removeEventListener('touchcancel', touchCancelEvent)\n                $el.removeEventListener('touchend', touchEndEvent)\n\n                $el.removeEventListener('mousedown', touchStartEvent)\n                $el.removeEventListener('mousemove', touchMoveEvent)\n                $el.removeEventListener('mouseup', touchEndEvent)\n                $el.removeEventListener('mouseenter', mouseEnterEvent)\n                $el.removeEventListener('mouseleave', mouseLeaveEvent)\n\n                // remove vars\n                delete $el.$$touchObj\n            }\n        })\n\n        Vue.directive('touch-class', {\n            bind: function ($el, binding) {\n                $el.$$touchClass = binding.value\n            },\n            unbind: function ($el) {\n                delete $el.$$touchClass\n            }\n        })\n    }\n}\n\n\n/*\n * Exports\n */\nif (typeof module === 'object') {\n    module.exports = vueTouchEvents\n\n} else if (typeof define === 'function' && define.amd) {\n    define([], function () {\n        return vueTouchEvents\n    })\n} else if (window.Vue) {\n    window.vueTouchEvents = vueTouchEvents\n    Vue.use(vueTouchEvents)\n}\n"]}